webpackJsonp([0],{1075:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{key:"Loader"}))}return o(t,e),i(t,[{key:"preload",value:function(){this.load.image("startScreen","assets/startscreen.png"),this.load.image("deathScreen","assets/deathscreen.png"),this.load.image("startBtn","assets/startBtn.png"),this.load.image("grass","assets/land_grass11.png"),this.load.image("car1","assets/car_black_small_5.png"),this.load.image("car2","assets/car_red_small_5.png"),this.load.image("man1","assets/character_black_blue.png"),this.load.image("man2","assets/character_black_red.png"),this.load.image("cone1","assets/cone_straight.png"),this.load.image("cone2","assets/cone_down.png"),this.load.image("tire1","assets/tires_red_alt.png"),this.load.image("tire2","assets/tires_red.png"),this.load.image("tire3","assets/tires_white_alt.png"),this.load.image("tire4","assets/tires_white.png")}},{key:"create",value:function(){this.scene.start("Menu")}}]),t}(Phaser.Scene);t.Loader=a},1076:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){function t(e,n,o,i,a){r(this,t);var c=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o,i.out));return c.scene=e,c.setInteractive().on("pointerdown",function(){return a()}),c}return o(t,e),t}(Phaser.GameObjects.Sprite),c=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{key:"Menu"}))}return o(t,e),i(t,[{key:"create",value:function(){var e=this;this.add.image(600,350,"startScreen"),this.add.existing(new a(this,600,520,{out:"startBtn"},function(){e.scene.start("Game")}))}}]),t}(Phaser.Scene);t.Menu=c},1077:function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(t,n,r){o(this,e),this.ANGLE_DELTA=.1,this.SPEED=.1,this.scene=t;var s=Phaser.Math.RND.pick(["car1","car2"]);this.body=this.scene.matter.add.image(n,r,s),this.body.setFrictionAir(.15).setMass(30).setScale(.9).setFixedRotation().setAngularVelocity(0).setVelocity(0,0),this.body.body.label="car"}return i(e,[{key:"rotate",value:function(e){this.body.setAngularVelocity(e)}},{key:"rotateClockwise",value:function(){this.rotate(this.ANGLE_DELTA)}},{key:"rotateCounterclockwise",value:function(){this.rotate(-this.ANGLE_DELTA)}},{key:"goForward",value:function(){this.body.thrust(this.SPEED)}},{key:"goBackward",value:function(){this.body.thrust(-this.SPEED)}}]),e}(),c=function e(t,n,r){o(this,e),this.scene=t;var s=Phaser.Math.RND.pick(["tire1","tire2","tire3","tire4"]);this.body=this.scene.matter.add.image(n,r,s),this.body.body.label="tire",this.body.setBounce(.3).setMass(20).setScale(.5,.5).setBody({type:"circle",radius:14})},u=function(){function e(t,n,r){o(this,e),this.SPEED=.003,this.ANGLE_DELTA=.1,this.TURN_PAUSE=Phaser.Math.Between(1e3,3e3),this.time=0,this.scene=t;var s=Phaser.Math.RND.pick(["man1","man2"]);this.body=this.scene.matter.add.image(n,r,s),this.body.body.label="man",this.body.setBounce(1).setMass(Phaser.Math.Between(7,15)).setFrictionAir(.1).setScale(.5,.5).setAngle(Phaser.Math.Between(0,360))}return i(e,[{key:"update",value:function(e){if(this.body.thrust(this.SPEED),this.time+=e,this.time>this.TURN_PAUSE){this.time=0;var t=Phaser.Math.Between(0,100);t>70?this.body.setAngle(Phaser.Math.Between(0,360)):t>40&&this.body.setAngle(Phaser.Math.Between(0,360))}}}]),e}(),h=function(){function e(t,n,r){o(this,e),this.UP="cone1",this.DOWN="cone2",this.isUp=!0,this.scene=t,this.body=this.scene.matter.add.image(n,r,this.UP),this.body.body.label="cone",this.body.body.cone=this,this.body.setScale(.5)}return i(e,[{key:"up",value:function(){this.isUp=!0,this.body.setTexture("cone1")}},{key:"down",value:function(){this.isUp=!1,this.body.setTexture("cone2")}}]),e}(),l=function(e){function t(){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{key:"Game"}))}return s(t,e),i(t,[{key:"create",value:function(){this.setBounds(),this.createTexture(),this.createCar(),this.createTires(),this.createMen(),this.createCones(),this.createCollisions(),this.createInput()}},{key:"setBounds",value:function(){this.matter.world.setBounds(0,0,1200,700)}},{key:"createTexture",value:function(){this.add.tileSprite(600,350,1200,700,"grass")}},{key:"createCar",value:function(){this.car=new a(this,600,350)}},{key:"createRandomObjects",value:function(e,t,n){for(var r=Phaser.Math.Between(t,n),s=[],o=0;o<r;o++){var i=Phaser.Math.Between(30,1170),a=Phaser.Math.Between(30,670);s.push(new e(this,i,a))}return s}},{key:"createTires",value:function(){this.tires=this.createRandomObjects(c,1,10)}},{key:"createMen",value:function(){this.men=this.createRandomObjects(u,1,10)}},{key:"createCones",value:function(){this.cones=this.createRandomObjects(h,1,10)}},{key:"createCollisions",value:function(){var e=this;this.matter.world.on("collisionstart",function(t){t.pairs.forEach(function(e){var t=e.bodyA,n=e.bodyB;"car"===t.label&&"cone"===n.label?n.cone.down():"cone"===t.label&&"car"===n.label?t.cone.down():"man"===t.label&&"cone"===n.label?n.cone.up():"cone"===t.label&&"man"===n.label&&t.cone.up()}),0===e.cones.filter(function(e){return e.isUp}).length&&e.scene.start("GameOver")})}},{key:"createInput",value:function(){this.cursors=this.input.keyboard.createCursorKeys(),this.counterclockwise=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.A),this.clockwise=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.D),this.forward=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.W),this.backward=this.input.keyboard.addKey(Phaser.Input.Keyboard.KeyCodes.S),[this.cursors.up,this.cursors.down,this.cursors.left,this.cursors.right,this.counterclockwise,this.clockwise,this.forward,this.backward].forEach(function(e){e.reset()})}},{key:"update",value:function(e,t){this.clockwise.isDown||this.cursors.right.isDown?this.car.rotateClockwise():(this.counterclockwise.isDown||this.cursors.left.isDown)&&this.car.rotateCounterclockwise(),this.forward.isDown||this.cursors.up.isDown?this.car.goForward():(this.backward.isDown||this.cursors.down.isDown)&&this.car.goBackward(),this.men.forEach(function(e){e.update(t)})}}]),t}(Phaser.Scene);t.Game=l},1078:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(e){function t(){return r(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{key:"GameOver"}))}return o(t,e),i(t,[{key:"create",value:function(){var e=this;this.add.image(600,350,"deathScreen"),this.add.sprite(600,520,"startBtn").setInteractive().on("pointerdown",function(){e.scene.start("Game")})}}]),t}(Phaser.Scene);t.GameOver=a},434:function(e,t,n){"use strict";n(210);var r=n(1075),s=n(1076),o=n(1077),i=n(1078),a={type:Phaser.AUTO,parent:"game",width:1200,height:700,backgroundColor:"#838796",physics:{default:"matter",matter:{debug:!1,gravity:{x:0,y:0}}},scene:[r.Loader,s.Menu,o.Game,i.GameOver]};new Phaser.Game(a)}},[434]);